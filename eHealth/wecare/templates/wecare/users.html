
{% extends "base.html" %} 
{% load crispy_forms_tags %}
{% block content %}


<div class="users-table-container text-center">

    <div class="users-header my-5">
        <h1 class="">Users Medical Records</h1>
        <div class="line"></div>
    </div>
    <div class="card card-body bg-dark pt-3">
        <form method="get" class="d-flex justify-content-around">
            {{ filter.form|crispy }}
            <button style="height: 50px;" class="btn my-auto btn-info py-0 btn-sm"><i class="fa fa-search" aria-hidden="true"></i>Search</button>
        </form>
    </div>

    <div class="table-responsive mt-3">

        <table class="users-table bg-light table table-hover table-striped table-bordered shadow">
            <thead class="thead-dark position-sticky fixed-top">
                <tr>
                    <th scope="col">User Id</th>
                    <th scope="col">Username</th>
                    <th scope="col">Age</th>
                    <th scope="col">Gender</th>
                    <th scope="col">Occupation</th>
                <th scope="col">Marital Status</th>
                <th scope="col">Allergies</th>
                <th scope="col">Most Recent Illness</th>
                <th scope="col">Smoke or Drink</th>
                <th scope="col">Last diagnose of</th>
            </tr>
            </thead>
            <tbody>

            {% for user in filter.qs %}
                <tr>
                    <th scope="row">{{user.id}}</th>
                    <td>{{user.user}}</td>
                    <td>{{user.age}}</td>
                    <td>{{user.gender}}</td>
                    <td>{{user.occupation}}</td>
                    <td>{{user.marital_status}}</td>
                    <td>{{user.allergies}}</td>
                    <td>{{user.common_illness}}</td>
                    <td>{{user.smoke_or_drink}}</td>
                    <td>{{user.last_diagnose}}</td>
                </tr>
            {% endfor %}
            
            </tbody>
        </table>
    </div>

</div>

{% endblock content %}